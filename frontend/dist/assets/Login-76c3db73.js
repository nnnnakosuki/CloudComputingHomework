import{u as x,a as V,r as c,b,c as r,o as h,d as k,e as o,f as s,w as n,g as L,h as S,t as C,E as _}from"./index-9b5da449.js";import{_ as R}from"./_plugin-vue_export-helper-c27b6911.js";const U={class:"login-container"},z={class:"login-box"},B={__name:"Login",setup(E){const g=x(),f=V(),t=c(),a=c(!1),l=b({username:"",password:""}),v={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}]},d=async()=>{t.value&&await t.value.validate(async p=>{if(p){a.value=!0;try{await f.loginAction(l),_.success("登录成功"),g.push("/")}catch(e){_.error(e.message||"登录失败")}finally{a.value=!1}}})};return(p,e)=>{const m=r("el-input"),u=r("el-form-item"),y=r("el-button"),w=r("el-form");return h(),k("div",U,[o("div",z,[e[2]||(e[2]=o("div",{class:"login-header"},[o("h2",null,"学生选课管理系统"),o("p",null,"Course Selection Management System")],-1)),s(w,{ref_key:"loginFormRef",ref:t,model:l,rules:v,class:"login-form",onKeyup:L(d,["enter"])},{default:n(()=>[s(u,{prop:"username"},{default:n(()=>[s(m,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=i=>l.username=i),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),s(u,{prop:"password"},{default:n(()=>[s(m,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=i=>l.password=i),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),s(u,null,{default:n(()=>[s(y,{type:"primary",size:"large",loading:a.value,onClick:d,class:"login-btn"},{default:n(()=>[S(C(a.value?"登录中...":"登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),e[3]||(e[3]=o("div",{class:"login-footer"},[o("p",null,"测试账号："),o("p",null,"管理员：admin / 123456"),o("p",null,"教务员：admin1 / 123456"),o("p",null,"教师：teacher1 / 123456"),o("p",null,"学生：student1 / 123456")],-1))])])}}},q=R(B,[["__scopeId","data-v-3e05f125"]]);export{q as default};
