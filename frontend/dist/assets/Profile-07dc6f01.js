import{s as N,a as U,r as k,k as C,c as n,o as P,d as S,f as e,w as t,E as d,e as u,h as l,t as s}from"./index-9b5da449.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";function E(){return N({url:"/student/profile",method:"get"})}const I={class:"student-profile"},T={class:"profile-avatar"},V={class:"avatar-upload"},D={__name:"Profile",setup(M){U();const a=k({}),f=async()=>{try{const r=await E();a.value=r.data||{}}catch{d.error("获取个人信息失败")}},i=()=>{d.info("请联系管理员修改头像")},p=r=>{switch(r){case 1:return"success";case 2:return"warning";case 3:return"danger";default:return"info"}};return C(()=>{f()}),(r,_)=>{const v=n("User"),m=n("el-icon"),b=n("el-avatar"),g=n("el-button"),c=n("el-col"),o=n("el-descriptions-item"),h=n("el-tag"),y=n("el-descriptions"),x=n("el-row"),w=n("el-card");return P(),S("div",I,[e(w,null,{header:t(()=>[..._[0]||(_[0]=[u("div",{class:"card-header"},[u("span",null,"个人信息")],-1)])]),default:t(()=>[e(x,{gutter:20},{default:t(()=>[e(c,{span:8},{default:t(()=>[u("div",T,[e(b,{size:120,src:a.value.avatar},{default:t(()=>[e(m,null,{default:t(()=>[e(v)]),_:1})]),_:1},8,["src"]),u("div",V,[e(g,{type:"text",onClick:i},{default:t(()=>[..._[1]||(_[1]=[l(" 更换头像 ",-1)])]),_:1})])])]),_:1}),e(c,{span:16},{default:t(()=>[e(y,{column:2,border:""},{default:t(()=>[e(o,{label:"学号"},{default:t(()=>[l(s(a.value.studentNo),1)]),_:1}),e(o,{label:"姓名"},{default:t(()=>[l(s(a.value.name),1)]),_:1}),e(o,{label:"性别"},{default:t(()=>[l(s(a.value.gender),1)]),_:1}),e(o,{label:"出生日期"},{default:t(()=>[l(s(a.value.birthDate),1)]),_:1}),e(o,{label:"院系"},{default:t(()=>[l(s(a.value.deptName),1)]),_:1}),e(o,{label:"专业"},{default:t(()=>[l(s(a.value.major),1)]),_:1}),e(o,{label:"班级"},{default:t(()=>[l(s(a.value.className),1)]),_:1}),e(o,{label:"入学年份"},{default:t(()=>[l(s(a.value.enrollmentYear),1)]),_:1}),e(o,{label:"学制"},{default:t(()=>[l(s(a.value.duration)+"年 ",1)]),_:1}),e(o,{label:"学籍状态"},{default:t(()=>[e(h,{type:p(a.value.status)},{default:t(()=>[l(s(a.value.statusText),1)]),_:1},8,["type"])]),_:1}),e(o,{label:"联系电话"},{default:t(()=>[l(s(a.value.phone),1)]),_:1}),e(o,{label:"邮箱"},{default:t(()=>[l(s(a.value.email),1)]),_:1}),e(o,{label:"家庭住址",span:2},{default:t(()=>[l(s(a.value.address),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},z=B(D,[["__scopeId","data-v-0546ab3f"]]);export{z as default};
