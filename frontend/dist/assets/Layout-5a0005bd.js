import{i as $,u as h,a as ee,r as ne,j as B,k as te,E as f,c as o,o as a,d as _,f as e,w as n,e as s,l as m,F as v,m as c,h as u,n as w,t as S,p as oe}from"./index-9b5da449.js";import{_ as le}from"./_plugin-vue_export-helper-c27b6911.js";const se={class:"layout-container"},de={class:"logo"},ue={key:0},ae={key:1},re={class:"header-left"},ie={class:"header-right"},_e={class:"user-info"},me={__name:"Layout",setup(pe){const b=$(),k=h(),r=ee(),i=ne(!1),F=B(()=>b.path),T=B(()=>b.meta.title||"首页"),U=()=>{i.value=!i.value},A=async x=>{switch(x){case"profile":f.info("个人信息功能开发中...");break;case"changePassword":f.info("修改密码功能开发中...");break;case"logout":try{await oe.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),r.logout(),f.success("退出成功"),k.push("/login")}catch{}break}};return te(async()=>{try{await r.getUserInfoAction()}catch{f.error("获取用户信息失败"),k.push("/login")}}),(x,t)=>{const N=o("House"),d=o("el-icon"),l=o("el-menu-item"),M=o("User"),R=o("Select"),V=o("Trophy"),g=o("Calendar"),C=o("Reading"),D=o("Edit"),E=o("UserFilled"),p=o("el-sub-menu"),L=o("Setting"),P=o("el-menu"),j=o("el-aside"),H=o("Expand"),q=o("Fold"),z=o("el-button"),G=o("el-breadcrumb-item"),J=o("el-breadcrumb"),K=o("Avatar"),O=o("ArrowDown"),y=o("el-dropdown-item"),Q=o("el-dropdown-menu"),W=o("el-dropdown"),X=o("el-header"),Y=o("router-view"),Z=o("el-main"),I=o("el-container");return a(),_("div",se,[e(I,null,{default:n(()=>[e(j,{width:i.value?"64px":"200px",class:"sidebar"},{default:n(()=>[s("div",de,[i.value?(a(),_("h3",ae,"成绩系统")):(a(),_("h3",ue,"学生成绩查询系统"))]),e(P,{"default-active":F.value,collapse:i.value,"unique-opened":!0,router:"",class:"sidebar-menu"},{default:n(()=>[e(l,{index:"/dashboard"},{default:n(()=>[e(d,null,{default:n(()=>[e(N)]),_:1}),t[0]||(t[0]=s("span",null,"首页",-1))]),_:1}),m(r).userInfo.roleCode==="student"?(a(),_(v,{key:0},[e(l,{index:"/student/profile"},{default:n(()=>[e(d,null,{default:n(()=>[e(M)]),_:1}),t[1]||(t[1]=s("span",null,"个人信息",-1))]),_:1}),e(l,{index:"/student/courses"},{default:n(()=>[e(d,null,{default:n(()=>[e(R)]),_:1}),t[2]||(t[2]=s("span",null,"课程选课",-1))]),_:1}),e(l,{index:"/student/grades"},{default:n(()=>[e(d,null,{default:n(()=>[e(V)]),_:1}),t[3]||(t[3]=s("span",null,"我的成绩",-1))]),_:1}),e(l,{index:"/student/schedule"},{default:n(()=>[e(d,null,{default:n(()=>[e(g)]),_:1}),t[4]||(t[4]=s("span",null,"我的课表",-1))]),_:1})],64)):c("",!0),m(r).userInfo.roleCode==="teacher"?(a(),_(v,{key:1},[e(l,{index:"/teacher/courses"},{default:n(()=>[e(d,null,{default:n(()=>[e(C)]),_:1}),t[5]||(t[5]=s("span",null,"我的课程",-1))]),_:1}),e(l,{index:"/teacher/grades"},{default:n(()=>[e(d,null,{default:n(()=>[e(D)]),_:1}),t[6]||(t[6]=s("span",null,"成绩录入",-1))]),_:1}),e(l,{index:"/teacher/students"},{default:n(()=>[e(d,null,{default:n(()=>[e(E)]),_:1}),t[7]||(t[7]=s("span",null,"学生名单",-1))]),_:1}),e(l,{index:"/teacher/schedule"},{default:n(()=>[e(d,null,{default:n(()=>[e(g)]),_:1}),t[8]||(t[8]=s("span",null,"我的课表",-1))]),_:1})],64)):c("",!0),m(r).userInfo.roleCode==="admin"?(a(),_(v,{key:2},[e(p,{index:"student-management"},{title:n(()=>[e(d,null,{default:n(()=>[e(E)]),_:1}),t[9]||(t[9]=s("span",null,"学生管理",-1))]),default:n(()=>[e(l,{index:"/admin/students"},{default:n(()=>[...t[10]||(t[10]=[u("学生信息",-1)])]),_:1}),e(l,{index:"/admin/grades"},{default:n(()=>[...t[11]||(t[11]=[u("成绩审核",-1)])]),_:1})]),_:1}),e(p,{index:"course-management"},{title:n(()=>[e(d,null,{default:n(()=>[e(C)]),_:1}),t[12]||(t[12]=s("span",null,"课程管理",-1))]),default:n(()=>[e(l,{index:"/admin/plans"},{default:n(()=>[...t[13]||(t[13]=[u("教学计划",-1)])]),_:1}),e(l,{index:"/admin/courses"},{default:n(()=>[...t[14]||(t[14]=[u("课程管理",-1)])]),_:1}),e(l,{index:"/admin/schedules"},{default:n(()=>[...t[15]||(t[15]=[u("开课计划",-1)])]),_:1}),e(l,{index:"/admin/selections"},{default:n(()=>[...t[16]||(t[16]=[u("选课审核",-1)])]),_:1})]),_:1}),e(p,{index:"schedule-management"},{title:n(()=>[e(d,null,{default:n(()=>[e(g)]),_:1}),t[17]||(t[17]=s("span",null,"教学调度",-1))]),default:n(()=>[e(l,{index:"/admin/class-schedules"},{default:n(()=>[...t[18]||(t[18]=[u("排课管理",-1)])]),_:1}),e(l,{index:"/admin/adjustments"},{default:n(()=>[...t[19]||(t[19]=[u("调课管理",-1)])]),_:1})]),_:1})],64)):c("",!0),m(r).userInfo.roleCode==="admin"?(a(),w(p,{key:3,index:"system-management"},{title:n(()=>[e(d,null,{default:n(()=>[e(L)]),_:1}),t[20]||(t[20]=s("span",null,"系统管理",-1))]),default:n(()=>[e(l,{index:"/system/users"},{default:n(()=>[...t[21]||(t[21]=[u("用户管理",-1)])]),_:1}),e(l,{index:"/system/roles"},{default:n(()=>[...t[22]||(t[22]=[u("角色管理",-1)])]),_:1}),e(l,{index:"/system/dict"},{default:n(()=>[...t[23]||(t[23]=[u("数据字典",-1)])]),_:1})]),_:1})):c("",!0)]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),e(I,null,{default:n(()=>[e(X,{class:"header"},{default:n(()=>[s("div",re,[e(z,{type:"text",onClick:U,class:"collapse-btn"},{default:n(()=>[e(d,null,{default:n(()=>[i.value?(a(),w(H,{key:0})):(a(),w(q,{key:1}))]),_:1})]),_:1}),e(J,{separator:"/"},{default:n(()=>[e(G,null,{default:n(()=>[u(S(T.value),1)]),_:1})]),_:1})]),s("div",ie,[e(W,{onCommand:A},{dropdown:n(()=>[e(Q,null,{default:n(()=>[e(y,{command:"profile"},{default:n(()=>[...t[24]||(t[24]=[u("个人信息",-1)])]),_:1}),e(y,{command:"changePassword"},{default:n(()=>[...t[25]||(t[25]=[u("修改密码",-1)])]),_:1}),e(y,{divided:"",command:"logout"},{default:n(()=>[...t[26]||(t[26]=[u("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[s("span",_e,[e(d,null,{default:n(()=>[e(K)]),_:1}),u(" "+S(m(r).userInfo.realName||m(r).userInfo.username)+" ",1),e(d,null,{default:n(()=>[e(O)]),_:1})])]),_:1})])]),_:1}),e(Z,{class:"main-content"},{default:n(()=>[e(Y)]),_:1})]),_:1})]),_:1})])}}},xe=le(me,[["__scopeId","data-v-5e78c42d"]]);export{xe as default};
